<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>解析对象</title>
</head>
<body>
    <div >
        <h1 id="title"></h1>
        <h3 id="subtitle"></h3>
        <div id="content">
        </div>
        <div id="attchments">
        </div>
        <div id="comemnts">
        </div>
        <div id="editors">
        </div>
    </div>
    <script type="text/javascript">

    var content = {
        title:"习近平访美查看IT行情",
        content1:"2014年习近平访美查看IT行情，做飞机前面.....",
        subtitle:"坐飞机",
        time:"2015-11-1 12:15:22",
        author:"keke",
        hits:10,
        isDelete:0,
        img:"http://images.huxiu.com/article/cover/201512/11/173106241500.png?",
        attchments:["aaa.txt","bbb.gif","ccc.jpg"],
        mark:true,
        price:121.5,
        comemnts:[ //数组里面的对象
            {title:"太刁了",username:"keke",img:"1aaa.gif",content:"1士大夫士大夫是的",time:"2015-12-12 12:12"},
            {title:"1太刁了",username:"keke1",img:"2aaa.gif",content:"2士大夫士大夫是的",time:"2015-12-12 12:12"},
            {title:"2太刁了",username:"keke2",img:"3aaa.gif",content:"3士大夫士23423大夫是的",time:"2015-12-12 12:12"},
            {title:"3太刁了",username:"keke3",img:"4aaa.gif",content:"4士大夫士大夫是的",time:"2015-12-12 12:12"},
            {title:"4太刁了",username:"keke4",img:"5aaa.gif",content:"5士大夫4234士大夫是的",time:"2015-12-12 12:12"},
            {title:"5太刁了",username:"keke5",img:"6aaa.gif",content:"6士大夫士大夫是的",time:"2015-12-12 12:12"},
            {title:"6太刁了",username:"keke6",img:"7aaa.gif",content:"7士大夫士大夫是的",time:"2015-12-12 12:12"},
            {title:"7太刁了",username:"keke7",img:"8aaa.gif",content:"8士大夫士大夫是的",time:"2015-12-12 12:12"}
        ],
        editors:{username:"稀烂",age:16,address:"上海"}
    };
    /*
        做开发面对解析对象(json),三部曲
            1.看数据类型是什么
                console.log(typeOf content);
                是对象  直接对象.属性进行使用
            2.如果不是对象，就用JSON.parse转换成对象
                var str = '{"username":"kk","age":20}';
                var json = JSON.parse(str) //字符串转换为对象 第一种写法  ie 678不支持
                var json = eval("("+str+")")//字符串转换为对象 第二种写法 兼容性写法
                //将两种方法进行封装
                function parse(jsonString){
                    if(JSON.parse){ //如果支持JSON.parse
                        return JSON.parse(jsonstring)
                    }else {
                        return eval("("+str+")")
                    }
                }
            3.进行解析
            
    
    */
    var s1 = $("title");
    var s2 = $("subtitle");
    var s3 = $("content");
    s1.innerHTML = content.title;
    s2.innerHTML = content.content1;
    s3.innerHTML = content.subtitle+"<p>"+content.time+"</p>"+content.hits+"<img src='"+content.img+"'/>"
    //看到数组就用循环
    var arr = content.attchments;
    var len = arr.length;
    var html = "";
    for(var i = 0;i<len;i++) {
        html += "<p>" +arr[i]+ "</p>";
    }
    var s4 = $("attchments");
    s4.innerHTML = html;


    //进行封装  重复代码写了三次以上 考虑函数封装
    function $(id) {
        return document.getElementById(id);
    }

    //评论数组解析
    var comemntsArr = content.comemnts;
    var comHTML = "";
    var len = comemntsArr.length;
    for(var i = 0 ;i<len;i++) {
        var json = comemntsArr[i];
        comHTML += json.title +json.username + json.content + json.time+"<br>"
    }
    $("comemnts").innerHTML = comHTML;

    //作者对象解析
    $("editors").innerHTML = content.editors.username+content.editors.age + content.editors.address
    </script>
</body>
</html>