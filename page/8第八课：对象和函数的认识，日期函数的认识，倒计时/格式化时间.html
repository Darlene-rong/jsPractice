<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    <script>
        var date = new Date();
        console.log(date);
        var json = {};
        json.time = date
        console.log(json);
        function getD(date) {  
            if (date >= 1 && date <= 9) {
                return date = "0" + date;
            }else{
                return date;
            }
        }
        function getDate(date){
            let year = date.getFullYear();
            let month = getD(date.getMonth());
            let dat = date.getDate();
            let hourse = date.getHours();//时
            let min = getD(date.getMinutes());//分
            return year +"年" + month +"月"+ getD(dat) + "日"+hourse + ":" + min;
        };
        let yesr = getDate(json.time);
        console.log(yesr)
        var dateUtils = {
            UNITS: {
                '年': 31557600000,
                '月': 2629800000,
                '天': 86400000,
                '小时': 3600000,
                '分钟': 60000,
                '秒': 1000
            },
            format: function (dateStr) {
                var date = this.parse(dateStr)
                var diff = Date.now() - date.getTime();
                if (diff < this.UNITS['天']) {
                    return this.humanize(diff);
                }
                var _format = function (number) {
                    return (number < 10 ? ('0' + number) : number);
                };
                return date.getFullYear() + '/' + _format(date.getMonth() + 1) + '/' + _format(date.getDay()) + '-' +
                    _format(date.getHours()) + ':' + _format(date.getMinutes());
            },
            parse: function (str) { //将"yyyy-mm-dd HH:MM:ss"格式的字符串，转化为一个Date对象
                var a = str.split(/[^0-9]/);
                return new Date(a[0], a[1] - 1, a[2], a[3], a[4], a[5]);
            }
        };
        console.log(dateUtils.format(0))
    </script>
</body>
</html>